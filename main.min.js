!function t(e,s,i){function a(r,h){if(!s[r]){if(!e[r]){var n="function"==typeof require&&require;if(!h&&n)return n(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=s[r]={exports:{}};e[r][0].call(d.exports,function(t){var s=e[r][1][t];return a(s?s:t)},d,d.exports,t,e,s,i)}return s[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({"/Users/msaglietto/Projects/irok/src/js/main.js":[function(t,e,s){"use strict";var i=new Phaser.Game(window.innerWidth,window.innerHeight,Phaser.AUTO,"irok");i.state.add("Boot",t("./states/boot")),i.state.add("Preloader",t("./states/preloader")),i.state.add("Menu",t("./states/menu")),i.state.add("Game",t("./states/game")),i.state.start("Boot")},{"./states/boot":"/Users/msaglietto/Projects/irok/src/js/states/boot.js","./states/game":"/Users/msaglietto/Projects/irok/src/js/states/game.js","./states/menu":"/Users/msaglietto/Projects/irok/src/js/states/menu.js","./states/preloader":"/Users/msaglietto/Projects/irok/src/js/states/preloader.js"}],"/Users/msaglietto/Projects/irok/src/js/prefabs/coin.js":[function(t,e,s){var i=function(t,e,s,i,a){i="coin",Phaser.Sprite.call(this,t,e,s,i,a),this.scale.setTo(.1),this.anchor.setTo(.1),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!1,this.checkWorldBounds=!0,this.onOutOfBoundsKill=!0,this.events.onRevived.add(this.onRevived,this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.onRevived=function(){this.body.velocity.x=-400},e.exports=i},{}],"/Users/msaglietto/Projects/irok/src/js/prefabs/scoreboard.js":[function(t,e,s){var i=function(t){Phaser.Group.call(this,t)};i.prototype=Object.create(Phaser.Group.prototype),i.prototype.constructor=i,i.prototype.show=function(t){var e,s,i,a,o,r,h,n={font:"65px Arial",fill:"#fff",align:"center"};e=this.game.add.bitmapData(this.game.width,this.game.height),e.ctx.fillStyle="#000",e.ctx.fillRect(0,0,this.game.width,this.game.height),s=this.game.add.sprite(0,0,e),s.alpha=.5,this.add(s);var l=!1,d=localStorage.getItem("highscore");(!d||t>d)&&(l=!0,d=t,localStorage.setItem("highscore",d)),this.y=this.game.height,i=this.game.add.text(0,100,"If life give you toilets... dodge them.",n),i.x=this.game.width/2-i.width/2,this.add(i),n.font="32px Arial",a=this.game.add.text(0,200,"Your Score: "+t,n),a.x=this.game.width/2-a.width/2,this.add(a),n.font="32px Arial",o=this.game.add.text(0,250,"Your High Score: "+d,n),o.x=this.game.width/2-o.width/2,this.add(o),n.font="24px Arial",h=this.game.add.text(0,300,"Tap to play again!",n),h.x=this.game.width/2-h.width/2,this.add(h),l&&(n.font="12px Arial",r=this.game.add.text(0,100,"New High Score!",n),r.tint=5160695,r.x=i.x+i.width+40,r.angle=45,this.add(r)),this.game.add.tween(this).to({y:0},1e3,Phaser.Easing.Bounce.Out,!0),this.game.input.onDown.addOnce(this.restart,this)},i.prototype.restart=function(){this.game.state.start("Game",!0,!1)},e.exports=i},{}],"/Users/msaglietto/Projects/irok/src/js/prefabs/toilet.js":[function(t,e,s){var i=function(t,e,s,i,a){i="toilet",Phaser.Sprite.call(this,t,e,s,i,a),this.scale.setTo(.5),this.anchor.setTo(.5),this.game.physics.arcade.enableBody(this),this.body.allowGravity=!0,this.checkWorldBounds=!0,this.onOutOfBoundsKill=!0,this.events.onRevived.add(this.onRevived,this)};i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.onRevived=function(){this.body.velocity.x=-400,this.body.velocity.y=this.game.rnd.integerInRange(-800,-400)},e.exports=i},{}],"/Users/msaglietto/Projects/irok/src/js/states/boot.js":[function(t,e,s){"use stric";var i=_.noop;i.prototype={preload:function(){this.load.image("logo","assets/images/logo.png"),this.load.image("preloader","assets/images/preloader.gif")},create:function(){this.game.stage.bckgraoundColor="#fff",this.game.input.maxPointers=1,this.game.device.desktop?this.game.stage.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=2048,this.game.scale.maxHeight=1536,this.game.scale.forceLandscape=!0,this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("Preloader")}},e.exports=i},{}],"/Users/msaglietto/Projects/irok/src/js/states/game.js":[function(t,e,s){var i=t("../prefabs/toilet"),a=t("../prefabs/coin"),o=t("../prefabs/scoreboard"),r=function(){this.initVars()};e.exports=r,r.prototype={initVars:function(){this.score=0,this.hits=0,this.toiletRate=1e3,this.toiletTimer=0,this.coinRate=2e3,this.coinTimer=50},create:function(){this.background=this.game.add.tileSprite(0,0,this.game.width,425,"background"),this.background.autoScroll(-25,0),this.sidewalk=this.game.add.tileSprite(0,425,this.game.width,this.game.height-457,"sidewalk"),this.sidewalk.autoScroll(-50,0),this.foreground=this.game.add.tileSprite(0,this.game.height-32,this.game.width,0,"foreground"),this.foreground.autoScroll(-100,0),this.player=this.add.sprite(200,this.game.height/2,"irok"),this.player.anchor.setTo(.5),this.player.scale.setTo(3),this.player.animations.add("walk",[5,6,7,8]),this.player.animations.add("back",[0,1,2,3]),this.player.animations.play("walk",8,!0),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.arcade.gravity.y=400,this.game.physics.arcade.enableBody(this.background),this.background.body.allowGravity=!1,this.background.body.immovable=!0,this.game.physics.arcade.enableBody(this.player),this.player.body.allowGravity=!1,this.player.body.collideWorldBounds=!0,this.toilets=this.game.add.group(),this.coins=this.game.add.group(),this.cursors=this.game.input.keyboard.createCursorKeys(),this.createTitles()},update:function(){var t=180;this.game.physics.arcade.collide(this.player,this.background),this.player.body.velocity.x=0,this.cursors.left.isDown?(this.player.body.velocity.x=-t,this.player.animations.play("back",8,!0)):this.cursors.right.isDown?(this.player.body.velocity.x=t,this.player.animations.play("walk",8,!0)):this.cursors.up.isDown?(this.player.body.velocity.y=-t,this.player.animations.play("walk",8,!0)):this.cursors.down.isDown?(this.player.body.velocity.y=t,this.player.animations.play("walk",8,!0)):(this.player.body.velocity.x=0,this.player.body.velocity.y=0,this.player.animations.play("walk",8,!0)),this.toiletTimer<this.game.time.now&&(this.createToilet(),this.toiletTimer=this.game.time.now+this.toiletRate),this.coinTimer<this.game.time.now&&(this.createCoin(),this.coinTimer=this.game.time.now+this.coinRate),this.game.physics.arcade.overlap(this.player,this.coins,this.coinHit,null,this),this.game.physics.arcade.overlap(this.player,this.toilets,this.toiletHit,null,this)},shutdown:function(){this.coins.destroy(),this.toilets.destroy(),this.initVars()},createTitles:function(){var t={font:"20px Arial",fill:"#000",align:"center"};this.scoreText=this.add.text(10,10,"Billetera: 0",t)},createToilet:function(){var t=this.game.width,e=this.game.rnd.integerInRange(50,this.game.world.height-192),s=this.toilets.getFirstExists(!1);s||(s=new i(this.game,0,0),this.toilets.add(s)),s.reset(t,e),s.revive()},toiletHit:function(t,e){var s;this.hits+=1,e.kill(),3===this.hits&&(t.kill(),this.background.stopScroll(),this.sidewalk.stopScroll(),this.foreground.stopScroll(),this.toiletRate=Number.MAX_VALUE,this.coinRate=Number.MAX_VALUE,s=new o(this.game),s.show(this.score))},createCoin:function(){var t=this.game.width,e=this.game.rnd.integerInRange(470,this.game.height-10),s=this.toilets.getFirstExists(!1);s||(s=new a(this.game,0,0),this.coins.add(s)),s.reset(t,e),s.revive()},coinHit:function(t,e){this.score+=.1,e.kill(),this.scoreText.text="Billetera: "+this.score}}},{"../prefabs/coin":"/Users/msaglietto/Projects/irok/src/js/prefabs/coin.js","../prefabs/scoreboard":"/Users/msaglietto/Projects/irok/src/js/prefabs/scoreboard.js","../prefabs/toilet":"/Users/msaglietto/Projects/irok/src/js/prefabs/toilet.js"}],"/Users/msaglietto/Projects/irok/src/js/states/menu.js":[function(t,e,s){"use stric";var i=function(){this.text=null};i.prototype={create:function(){var t={font:"65px Arial",fill:"#000",align:"center"};this.background=this.game.add.tileSprite(0,0,this.game.width,425,"background"),this.background.autoScroll(-50,0),this.sidewalk=this.game.add.tileSprite(0,425,this.game.width,this.game.height-457,"sidewalk"),this.sidewalk.autoScroll(-100,0),this.foreground=this.game.add.tileSprite(0,this.game.height-32,this.game.width,0,"foreground"),this.foreground.autoScroll(-200,0),this.text=this.add.text(this.game.world.centerX,this.game.world.centerY,"Press to Start",t),this.text.anchor.setTo(.5),this.player=this.add.sprite(200,this.game.height/2,"irok"),this.player.anchor.setTo(.5),this.player.scale.setTo(3),this.player.animations.add("walk",[5,6,7,8]),this.player.animations.play("walk",8,!0),this.game.add.tween(this.player).to({y:this.player.y-16},500,Phaser.Easing.Linear.NONE,!0,9,1/0,!0),this.input.onDown.add(this.onDown,this)},onDown:function(){this.game.state.start("Game")}},e.exports=i},{}],"/Users/msaglietto/Projects/irok/src/js/states/preloader.js":[function(t,e,s){"use stric";var i=function(){this.ready=!1};i.prototype={preload:function(){this.splash=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"logo"),this.splash.anchor.setTo(.5),this.splash.scale.setTo(.3),this.preload=this.add.sprite(this.game.world.centerX,this.game.world.centerY+350,"preloader"),this.preload.anchor.setTo(.5),this.load.setPreloadSprite(this.preload),this.load.image("background","assets/images/cityBackground.png"),this.load.image("sidewalk","assets/images/sidewalk.png"),this.load.image("foreground","assets/images/foreground.png"),this.load.image("toilet","assets/images/toilet.png"),this.load.image("coin","assets/images/coin.png"),this.load.spritesheet("irok","assets/images/dude.png",32,48),this.load.onLoadComplete.addOnce(this.onLoadComplete,this)},create:function(){this.preload.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("Menu")},onLoadComplete:function(){this.ready=!0}},e.exports=i},{}]},{},["/Users/msaglietto/Projects/irok/src/js/main.js"]);